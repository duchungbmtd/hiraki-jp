<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS Demo - Hikari N5</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .japanese-text { font-family: 'Noto Sans JP', sans-serif; }
        .vietnamese-text { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-pink-50 min-h-screen vietnamese-text">
    <div class="max-w-4xl mx-auto px-4 py-8">
        <div class="bg-white rounded-xl shadow-lg p-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">ğŸ”Š Text-to-Speech Demo</h1>
            
            <!-- TTS Controls -->
            <div id="tts-controls-container" class="mb-8">
                <!-- Controls will be generated here -->
            </div>

            <!-- Test Words -->
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Tá»« vá»±ng tiáº¿ng Nháº­t</h3>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">ã“ã‚“ã«ã¡ã¯</div>
                        <div class="text-gray-600 mb-2">Xin chÃ o</div>
                        <div class="text-sm text-gray-500 italic mb-3">konnichiwa</div>
                        <div id="play-konnichiwa"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">ã‚ã‚ŠãŒã¨ã†</div>
                        <div class="text-gray-600 mb-2">Cáº£m Æ¡n</div>
                        <div class="text-sm text-gray-500 italic mb-3">arigatou</div>
                        <div id="play-arigatou"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">ã™ã¿ã¾ã›ã‚“</div>
                        <div class="text-gray-600 mb-2">Xin lá»—i</div>
                        <div class="text-sm text-gray-500 italic mb-3">sumimasen</div>
                        <div id="play-sumimasen"></div>
                    </div>
                </div>

                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Tá»« vá»±ng phá»©c táº¡p</h3>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">å¤§å­¦</div>
                        <div class="text-gray-600 mb-2">Äáº¡i há»c</div>
                        <div class="text-sm text-gray-500 italic mb-3">daigaku</div>
                        <div id="play-daigaku"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">å…ˆç”Ÿ</div>
                        <div class="text-gray-600 mb-2">GiÃ¡o viÃªn</div>
                        <div class="text-sm text-gray-500 italic mb-3">sensei</div>
                        <div id="play-sensei"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">å›³æ›¸é¤¨</div>
                        <div class="text-gray-600 mb-2">ThÆ° viá»‡n</div>
                        <div class="text-sm text-gray-500 italic mb-3">toshokan</div>
                        <div id="play-toshokan"></div>
                    </div>
                </div>
            </div>

            <!-- Test Sentences -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">CÃ¢u vÃ­ dá»¥</h3>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-lg text-gray-800 mb-2">ã“ã‚“ã«ã¡ã¯ã€ç§ã¯å­¦ç”Ÿã§ã™ã€‚</div>
                        <div class="text-gray-600 mb-2">Xin chÃ o, tÃ´i lÃ  sinh viÃªn.</div>
                        <div class="text-sm text-gray-500 italic mb-3">konnichiwa, watashi wa gakusei desu</div>
                        <div id="play-sentence1"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-lg text-gray-800 mb-2">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</div>
                        <div class="text-gray-600 mb-2">Cáº£m Æ¡n báº¡n ráº¥t nhiá»u.</div>
                        <div class="text-sm text-gray-500 italic mb-3">arigatou gozaimasu</div>
                        <div id="play-sentence2"></div>
                    </div>
                </div>
            </div>

            <!-- Kanji Test -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Kanji Test</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <h4 class="font-semibold text-gray-700">Kanji cÆ¡ báº£n</h4>
                        
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">äºº</div>
                            <div class="text-gray-600 mb-2">NgÆ°á»i</div>
                            <div class="text-sm text-gray-500 italic mb-3">hito, jin, nin</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('äºº')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”¤ Kanji
                                </button>
                                <button onclick="playReading('ã²ã¨')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”Š CÃ¡ch Ä‘á»c
                                </button>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">æ°´</div>
                            <div class="text-gray-600 mb-2">NÆ°á»›c</div>
                            <div class="text-sm text-gray-500 italic mb-3">mizu, sui</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('æ°´')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”¤ Kanji
                                </button>
                                <button onclick="playReading('ã¿ãš')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”Š CÃ¡ch Ä‘á»c
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <h4 class="font-semibold text-gray-700">Kanji phá»©c táº¡p</h4>
                        
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">å­¦æ ¡</div>
                            <div class="text-gray-600 mb-2">TrÆ°á»ng há»c</div>
                            <div class="text-sm text-gray-500 italic mb-3">gakkou</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('å­¦æ ¡')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”¤ Kanji
                                </button>
                                <button onclick="playReading('ãŒã£ã“ã†')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”Š CÃ¡ch Ä‘á»c
                                </button>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">é›»è»Š</div>
                            <div class="text-gray-600 mb-2">TÃ u Ä‘iá»‡n</div>
                            <div class="text-sm text-gray-500 italic mb-3">densha</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('é›»è»Š')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”¤ Kanji
                                </button>
                                <button onclick="playReading('ã§ã‚“ã—ã‚ƒ')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    ğŸ”Š CÃ¡ch Ä‘á»c
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status -->
            <div class="mt-8 p-4 bg-gray-100 rounded-lg">
                <h4 class="font-semibold text-gray-800 mb-2">Tráº¡ng thÃ¡i TTS:</h4>
                <div id="tts-status" class="text-sm text-gray-600">
                    Äang khá»Ÿi táº¡o...
                </div>
            </div>
        </div>
    </div>

    <script src="tts.js"></script>
    <script>
        let tts = null;

        document.addEventListener('DOMContentLoaded', () => {
            try {
                tts = new JapaneseTTS();
                
                // Setup TTS controls
                tts.createTTSControls('tts-controls-container', {
                    onPlay: () => {
                        console.log('Play button clicked');
                    }
                });

                // Create play buttons for each word
                tts.createSimplePlayButton('ã“ã‚“ã«ã¡ã¯', 'play-konnichiwa');
                tts.createSimplePlayButton('ã‚ã‚ŠãŒã¨ã†', 'play-arigatou');
                tts.createSimplePlayButton('ã™ã¿ã¾ã›ã‚“', 'play-sumimasen');
                tts.createSimplePlayButton('å¤§å­¦', 'play-daigaku');
                tts.createSimplePlayButton('å…ˆç”Ÿ', 'play-sensei');
                tts.createSimplePlayButton('å›³æ›¸é¤¨', 'play-toshokan');
                tts.createSimplePlayButton('ã“ã‚“ã«ã¡ã¯ã€ç§ã¯å­¦ç”Ÿã§ã™ã€‚', 'play-sentence1');
                tts.createSimplePlayButton('ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚', 'play-sentence2');

                // Update status
                document.getElementById('tts-status').innerHTML = `
                    âœ… TTS Ä‘Ã£ sáºµn sÃ ng<br>
                    ğŸ”Š Giá»ng: ${tts.settings.voice?.name || 'Máº·c Ä‘á»‹nh'}<br>
                    âš¡ Tá»‘c Ä‘á»™: ${tts.settings.rate}x<br>
                    ğŸ”Š Ã‚m lÆ°á»£ng: ${Math.round(tts.settings.volume * 100)}%
                `;

            } catch (error) {
                console.error('TTS initialization failed:', error);
                document.getElementById('tts-status').innerHTML = `
                    âŒ Lá»—i khá»Ÿi táº¡o TTS: ${error.message}<br>
                    ğŸ’¡ HÃ£y thá»­ trÃªn trÃ¬nh duyá»‡t Chrome hoáº·c Edge
                `;
            }
        });

        // Global functions for Kanji test
        window.playKanji = async function(kanji) {
            if (tts) {
                try {
                    await tts.speakJapanese(kanji);
                } catch (error) {
                    console.error('Kanji TTS Error:', error);
                }
            }
        };

        window.playReading = async function(reading) {
            if (tts) {
                try {
                    await tts.speakJapanese(reading);
                } catch (error) {
                    console.error('Reading TTS Error:', error);
                }
            }
        };
    </script>
</body>
</html>
