<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS Demo - Hikari N5</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .japanese-text { font-family: 'Noto Sans JP', sans-serif; }
        .vietnamese-text { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-pink-50 min-h-screen vietnamese-text">
    <div class="max-w-4xl mx-auto px-4 py-8">
        <div class="bg-white rounded-xl shadow-lg p-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">üîä Text-to-Speech Demo</h1>
            
            <!-- TTS Controls -->
            <div id="tts-controls-container" class="mb-8">
                <!-- Controls will be generated here -->
            </div>

            <!-- Test Words -->
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">T·ª´ v·ª±ng ti·∫øng Nh·∫≠t</h3>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">„Åì„Çì„Å´„Å°„ÅØ</div>
                        <div class="text-gray-600 mb-2">Xin ch√†o</div>
                        <div class="text-sm text-gray-500 italic mb-3">konnichiwa</div>
                        <div id="play-konnichiwa"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">„ÅÇ„Çä„Åå„Å®„ÅÜ</div>
                        <div class="text-gray-600 mb-2">C·∫£m ∆°n</div>
                        <div class="text-sm text-gray-500 italic mb-3">arigatou</div>
                        <div id="play-arigatou"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">„Åô„Åø„Åæ„Åõ„Çì</div>
                        <div class="text-gray-600 mb-2">Xin l·ªói</div>
                        <div class="text-sm text-gray-500 italic mb-3">sumimasen</div>
                        <div id="play-sumimasen"></div>
                    </div>
                </div>

                <div class="space-y-4">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">T·ª´ v·ª±ng ph·ª©c t·∫°p</h3>
                    
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">Â§ßÂ≠¶</div>
                        <div class="text-gray-600 mb-2">ƒê·∫°i h·ªçc</div>
                        <div class="text-sm text-gray-500 italic mb-3">daigaku</div>
                        <div id="play-daigaku"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">ÂÖàÁîü</div>
                        <div class="text-gray-600 mb-2">Gi√°o vi√™n</div>
                        <div class="text-sm text-gray-500 italic mb-3">sensei</div>
                        <div id="play-sensei"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-2xl font-medium text-gray-800 mb-2">Âõ≥Êõ∏È§®</div>
                        <div class="text-gray-600 mb-2">Th∆∞ vi·ªán</div>
                        <div class="text-sm text-gray-500 italic mb-3">toshokan</div>
                        <div id="play-toshokan"></div>
                    </div>
                </div>
            </div>

            <!-- Test Sentences -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">C√¢u v√≠ d·ª•</h3>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-lg text-gray-800 mb-2">„Åì„Çì„Å´„Å°„ÅØ„ÄÅÁßÅ„ÅØÂ≠¶Áîü„Åß„Åô„ÄÇ</div>
                        <div class="text-gray-600 mb-2">Xin ch√†o, t√¥i l√† sinh vi√™n.</div>
                        <div class="text-sm text-gray-500 italic mb-3">konnichiwa, watashi wa gakusei desu</div>
                        <div id="play-sentence1"></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="japanese-text text-lg text-gray-800 mb-2">„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ</div>
                        <div class="text-gray-600 mb-2">C·∫£m ∆°n b·∫°n r·∫•t nhi·ªÅu.</div>
                        <div class="text-sm text-gray-500 italic mb-3">arigatou gozaimasu</div>
                        <div id="play-sentence2"></div>
                    </div>
                </div>
            </div>

            <!-- Kanji Test -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Kanji Test</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <h4 class="font-semibold text-gray-700">Kanji c∆° b·∫£n</h4>
                        
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">‰∫∫</div>
                            <div class="text-gray-600 mb-2">Ng∆∞·ªùi</div>
                            <div class="text-sm text-gray-500 italic mb-3">hito, jin, nin</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('‰∫∫')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üî§ Kanji
                                </button>
                                <button onclick="playReading('„Å≤„Å®')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üîä C√°ch ƒë·ªçc
                                </button>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">Ê∞¥</div>
                            <div class="text-gray-600 mb-2">N∆∞·ªõc</div>
                            <div class="text-sm text-gray-500 italic mb-3">mizu, sui</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('Ê∞¥')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üî§ Kanji
                                </button>
                                <button onclick="playReading('„Åø„Åö')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üîä C√°ch ƒë·ªçc
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <h4 class="font-semibold text-gray-700">Kanji ph·ª©c t·∫°p</h4>
                        
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">Â≠¶Ê†°</div>
                            <div class="text-gray-600 mb-2">Tr∆∞·ªùng h·ªçc</div>
                            <div class="text-sm text-gray-500 italic mb-3">gakkou</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('Â≠¶Ê†°')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üî§ Kanji
                                </button>
                                <button onclick="playReading('„Åå„Å£„Åì„ÅÜ')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üîä C√°ch ƒë·ªçc
                                </button>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="japanese-text text-4xl font-bold text-gray-800 mb-2">ÈõªËªä</div>
                            <div class="text-gray-600 mb-2">T√†u ƒëi·ªán</div>
                            <div class="text-sm text-gray-500 italic mb-3">densha</div>
                            <div class="flex space-x-2">
                                <button onclick="playKanji('ÈõªËªä')" class="bg-orange-100 hover:bg-orange-200 text-orange-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üî§ Kanji
                                </button>
                                <button onclick="playReading('„Åß„Çì„Åó„ÇÉ')" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-lg text-sm font-medium transition-all">
                                    üîä C√°ch ƒë·ªçc
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status -->
            <div class="mt-8 p-4 bg-gray-100 rounded-lg">
                <h4 class="font-semibold text-gray-800 mb-2">Tr·∫°ng th√°i TTS:</h4>
                <div id="tts-status" class="text-sm text-gray-600">
                    ƒêang kh·ªüi t·∫°o...
                </div>
            </div>
        </div>
    </div>

    <script src="tts.js"></script>
    <script>
        let tts = null;

        document.addEventListener('DOMContentLoaded', () => {
            try {
                tts = new JapaneseTTS();
                
                // Setup TTS controls
                tts.createTTSControls('tts-controls-container', {
                    onPlay: () => {
                        console.log('Play button clicked');
                    }
                });

                // Create play buttons for each word
                tts.createSimplePlayButton('„Åì„Çì„Å´„Å°„ÅØ', 'play-konnichiwa');
                tts.createSimplePlayButton('„ÅÇ„Çä„Åå„Å®„ÅÜ', 'play-arigatou');
                tts.createSimplePlayButton('„Åô„Åø„Åæ„Åõ„Çì', 'play-sumimasen');
                tts.createSimplePlayButton('Â§ßÂ≠¶', 'play-daigaku');
                tts.createSimplePlayButton('ÂÖàÁîü', 'play-sensei');
                tts.createSimplePlayButton('Âõ≥Êõ∏È§®', 'play-toshokan');
                tts.createSimplePlayButton('„Åì„Çì„Å´„Å°„ÅØ„ÄÅÁßÅ„ÅØÂ≠¶Áîü„Åß„Åô„ÄÇ', 'play-sentence1');
                tts.createSimplePlayButton('„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ', 'play-sentence2');

                // Update status
                document.getElementById('tts-status').innerHTML = `
                    ‚úÖ TTS ƒë√£ s·∫µn s√†ng<br>
                    üîä Gi·ªçng: ${tts.settings.voice?.name || 'M·∫∑c ƒë·ªãnh'}<br>
                    ‚ö° T·ªëc ƒë·ªô: ${tts.settings.rate}x<br>
                    üîä √Çm l∆∞·ª£ng: ${Math.round(tts.settings.volume * 100)}%
                `;

            } catch (error) {
                console.error('TTS initialization failed:', error);
                document.getElementById('tts-status').innerHTML = `
                    ‚ùå L·ªói kh·ªüi t·∫°o TTS: ${error.message}<br>
                    üí° H√£y th·ª≠ tr√™n tr√¨nh duy·ªát Chrome ho·∫∑c Edge
                `;
            }
        });

        // Global functions for Kanji test
        window.playKanji = async function(kanji) {
            if (tts) {
                try {
                    await tts.speakJapanese(kanji);
                } catch (error) {
                    console.error('Kanji TTS Error:', error);
                }
            }
        };

        window.playReading = async function(reading) {
            if (tts) {
                try {
                    await tts.speakJapanese(reading);
                } catch (error) {
                    console.error('Reading TTS Error:', error);
                }
            }
        };
    </script>
</body>
</html>
